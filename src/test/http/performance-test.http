### DB 성능 튜닝 연습용 테스트 시나리오
### 단계별로 실행하며 성능 변화를 관찰하세요

### ================================================================
### Phase 0: 초기 환경 설정
### ================================================================

### 현재 상태 확인 (빈 DB 확인)
GET {{baseUrl}}/api/sample-data

###

### ================================================================
### Phase 1: 기본 데이터 생성 (성능 측정 기준점)
### ================================================================

### 1-1. 소규모 데이터로 시작 (응답시간 측정)
POST {{baseUrl}}/api/sample-data/small

###

### 1-2. 기준점 상태 확인
GET {{baseUrl}}/api/sample-data

###

### ================================================================
### Phase 2: 중간 규모 데이터 (첫 번째 성능 이슈 관찰)
### ================================================================

### 2-1. 상품 10만개 추가 (인덱스 없는 상태에서 성능 측정)
POST {{baseUrl}}/api/sample-data/products?count=100000

###

### 2-2. 주문 5만개 추가 (N+1 문제 발생 가능성)
POST {{baseUrl}}/api/sample-data/orders?count=50000

###

### 2-3. 중간 규모 상태 확인
GET {{baseUrl}}/api/sample-data

###

### ================================================================
### Phase 3: 대용량 데이터 (심각한 성능 이슈 체험)
### ================================================================

### 3-1. 상품 50만개 추가 (총 60만개)
### ⚠️ 인덱스 없이는 매우 느려질 수 있음
POST {{baseUrl}}/api/sample-data/products?count=500000

###

### 3-2. 주문 25만개 추가 (총 30만개)
### ⚠️ 조인 쿼리 성능 이슈 예상
POST {{baseUrl}}/api/sample-data/orders?count=250000

###

### 3-3. 장바구니 5만개 추가 (총 6만개)
POST {{baseUrl}}/api/sample-data/carts?count=50000

###

### 3-4. 대용량 상태 확인
GET {{baseUrl}}/api/sample-data

###

### ================================================================
### Phase 4: 극한 테스트 (튜닝 후 성능 검증용)
### ================================================================

### 4-1. 상품 100만개까지 확장
### ⚠️ 튜닝 후에만 실행 권장
POST {{baseUrl}}/api/sample-data/products?count=400000

###

### 4-2. 주문 50만개까지 확장  
### ⚠️ 튜닝 후에만 실행 권장
POST {{baseUrl}}/api/sample-data/orders?count=200000

###

### 4-3. 최종 극한 상태 확인
GET {{baseUrl}}/api/sample-data

###

### ================================================================
### 성능 비교 체크포인트
### ================================================================
### 각 단계에서 다음 사항들을 기록하세요:
### 
### 1. API 응답시간
###    - 데이터 생성 시간
###    - 상태 조회 시간
### 
### 2. 로그 확인 사항
###    - SQL 쿼리 실행시간
###    - 메모리 사용량 경고
###    - 배치 처리 진행률
### 
### 3. 데이터베이스 모니터링
###    - pg_stat_statements로 슬로우 쿼리 확인
###    - 테이블 크기 증가량
###    - 인덱스 사용률
### ================================================================
